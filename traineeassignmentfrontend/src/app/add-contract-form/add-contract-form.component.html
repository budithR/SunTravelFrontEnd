


<h4>Add Contract</h4>

<div class="outterFormDiv">
    

  <div class="formContainer">
    <form class="add-contract-form" #addForm="ngForm" (ngSubmit)="onSubmitWrapper(addForm)">
      <div class="row " id="top2rows">
        <div class="col">
          <label for="hotelName">Hotel Name</label>
          <div class="buttonAndInput">
            <input type="text" ngModel name="hotelName" id="hotelNameID" class="form-control" placeholder="Hotel name" required [(ngModel)]="formData.hotelName">
            <button type="button" class="btn btn-primary" id="existingButton" routerLink="/exsistingHotelAddContract">Existing Hotel</button>
          </div>
          
          <div *ngIf="addForm.controls['hotelName']?.invalid && (addForm.controls['hotelName'].dirty || addForm.controls['hotelName'].touched)">
            <div *ngIf="addForm.controls['hotelName'].errors?.['required']" style="color: red;">Name is required.</div>
          </div>
        </div>
      </div>
      <div class="row" id="top2rows">
          <div class="col">
            <label for="roomTypeName">Room Type</label>
              <input type="text" ngModel name="roomTypeName"  class="form-control" placeholder="Room Type Name" required [(ngModel)]="formData.roomTypeName">
              <div *ngIf="addForm.controls['roomTypeName']?.invalid && (addForm.controls['roomTypeName'].dirty || addForm.controls['roomTypeName'].touched)">
                <div *ngIf="addForm.controls['roomTypeName'].errors?.['required']" style="color: red;">Room type name is required.</div>
              </div>
          </div>
            <div class="col">
              <label for="maxAdults">Max Adults</label>
              <input type="number" ngModel name="maxAdults"  class="form-control" placeholder="Max Adults" min="1" max="10" required [(ngModel)]="formData.maxAdults">
              <div *ngIf="addForm.controls['maxAdults']?.invalid && (addForm.controls['maxAdults'].dirty || addForm.controls['maxAdults'].touched)">
                <div *ngIf="addForm.controls['maxAdults'].errors?.['required']" style="color: red;">Age is required.</div>
                <div *ngIf="addForm.controls['maxAdults'].errors?.['min'] || addForm.controls['maxAdults'].errors?.['max']" style="color: red;">Max adults should be between 1 and 10.</div>
              </div>
            </div>
            <div class="col">
              <label for="noOfRooms">No Of Rooms</label>
              <input type="number"  ngModel name="noOfRooms" class="form-control" placeholder="No of rooms" required [(ngModel)]="formData.noOfRooms">
              <div *ngIf="addForm.controls['noOfRooms']?.invalid && (addForm.controls['noOfRooms'].dirty || addForm.controls['noOfRooms'].touched)">
                <div *ngIf="addForm.controls['noOfRooms'].errors?.['required']" style="color: red;">No of rooms is required.</div>
              </div>
            </div>
            <div class="col">
              <label for="pricePerPerson">Price</label>
              <input type="number" ngModel name="pricePerPerson" class="form-control" placeholder="Price" required [(ngModel)]="formData.pricePerPerson">
              <div *ngIf="addForm.controls['pricePerPerson']?.invalid && (addForm.controls['pricePerPerson'].dirty || addForm.controls['pricePerPerson'].touched)">
                <div *ngIf="addForm.controls['pricePerPerson'].errors?.['required']" style="color: red;">Price is required.</div>
              </div>
            </div>
      </div>
      <div class="row">
          <div class="col">
              <label for="inputMarkUpPerecentage" class="col-sm-10 col-form-label">Mark Up Perecentage</label>
              <div class="col-sm-10">
              <input type="number" ngModel name="markupPrice"  class="form-control" id="inputMarkUpPerecentage" placeholder="15" min="5" max="25" required [(ngModel)]="formData.markupPrice">
              <div *ngIf="addForm.controls['markupPrice']?.invalid && (addForm.controls['markupPrice'].dirty || addForm.controls['markupPrice'].touched)">
                <div *ngIf="addForm.controls['markupPrice'].errors?.['required']" style="color: red;">Mark Up Perecentage is required.</div>
                <div *ngIf="addForm.controls['markupPrice'].errors?.['min'] || addForm.controls['markupPrice'].errors?.['max']" style="color: red;">Mark Up Perecentage should be between 5 and 25.</div>
              </div>
              </div>
          </div>
          <div class="col">
              <label for="inputStartDate" class="col-sm-10 col-form-label">Start Date</label>
              <div class="col-sm-10">
              <input type="date" ngModel name="startDate" class="form-control" id="inputStartDate" placeholder="15" required>
              </div>
          </div>
          <div class="col">
              <label for="inputEndDate" class="col-sm-10 col-form-label">End Date</label>
              <div class="col-sm-10">
              <input type="date" ngModel name="endDate" class="form-control" id="inputEndDate" placeholder="15" required>
              </div>
          </div>
      </div>
      
      <div class="col-sm-10" id="fromButtons">
          <button type="submit" class="btn btn-primary" [disabled]="!addForm.valid">Add Contract</button>
          <button type="reset" class="btn btn-primary" (click)="changeContractAddLabel('')" >Reset Form</button>
          <label for="displayContractAddStatus" id="displayContractAddStatus"></label>
      </div>
    </form>
  </div>



  
</div>

<div class="bottomDiv">
  <div *ngIf="newlyCreatedContract">
    <div class=box1 id="resultDiv">
      <div class="details">
        <div class="firstRow">
          <div class="hotelName">{{newlyCreatedContract.hotel.hotelName}}</div>
          <div class="price">Rs. {{newlyCreatedContract.roomType.pricePerPerson}} per person</div>
        </div>
        <div class="secondRow">
          <div class="roomTypeName">Room Type - {{newlyCreatedContract.roomType.roomTypeName}}</div>
          <div class="maxAdults">Max Adulst - {{newlyCreatedContract.roomType.maxAdults}}</div>
        </div>
    </div>
  </div>
</div>


    
    

  
  
  

  
  